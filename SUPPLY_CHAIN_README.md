# üîç Supply Chain Risk Audit - Multi-Agent Platform

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏—é —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π multi-agent –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –∞—É–¥–∏—Ç–∞ —Ä–∏—Å–∫–æ–≤ —Ü–µ–ø–æ—á–∫–∏ –ø–æ—Å—Ç–∞–≤–æ–∫ (ESG/Supply-Chain risk assessment). –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ use cases –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–¥–∞.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É AML –∏ Supply Chain audit —á–µ—Ä–µ–∑ YAML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- **ESG –∞–Ω–∞–ª–∏–∑**: –û—Ü–µ–Ω–∫–∞ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö, —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –∏ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏—Ö —Ä–∏—Å–∫–æ–≤
- **Compliance –ø—Ä–æ–≤–µ—Ä–∫–∞**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ä–µ–≥—É–ª—è—Ç–∏–≤–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º (EU CSDDD, ISO 14001, SA8000)
- **Risk scoring**: –ö–æ–º–ø–æ–∑–∏—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤
- **Multi-agent –∫–æ–Ω—Å–µ–Ω—Å—É—Å**: –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–≥–µ–Ω—Ç–æ–≤
- **–ì–∏–±–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤ –∏ use cases

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ê–≥–µ–Ω—Ç—ã –¥–ª—è Supply Chain Audit

1. **InternalRetrieverAgent** - –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
2. **ExternalRetrieverAgent** - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏—Ö ESG –∏ compliance –¥–∞–Ω–Ω—ã—Ö
3. **RiskAnalysisAgent** - –ê–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
4. **ESGComplianceAgent** - –ü—Ä–æ–≤–µ—Ä–∫–∞ ESG compliance
5. **VerifierAgent** - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
6. **SynthesizerAgent** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤

### –§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞

- **Country ESG Rating**: ESG —Ä–µ–π—Ç–∏–Ω–≥ —Å—Ç—Ä–∞–Ω—ã –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- **Prior Violations**: –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è
- **Supply Category Risk**: –†–∏—Å–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ—Å—Ç–∞–≤–æ–∫
- **Financial Stability**: –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

### Compliance —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏

- **EU CSDDD**: European Union Corporate Sustainability Due Diligence Directive
- **ISO 14001**: Environmental Management Systems
- **SA8000**: Social Accountability International Standard
- **GRI Standards**: Global Reporting Initiative

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

```bash
# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è supply chain audit
python run_supply_chain_demo.py

# –ò–ª–∏ —á–µ—Ä–µ–∑ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
python -m orchestrator.main --config configs/supply_chain.yaml
```

### 3. –í–µ–±-–¥–∞—à–±–æ—Ä–¥

```bash
python -m streamlit run dashboard/app.py
```

## üìä –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ 20 –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ —Ä–∏—Å–∫–∞:

- **–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫**: GreenTech Solutions (–ì–µ—Ä–º–∞–Ω–∏—è), Clean Energy Systems (–î–∞–Ω–∏—è)
- **–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫**: Global Manufacturing Co (–ö–∏—Ç–∞–π), Sustainable Textiles (–ò–Ω–¥–∏—è)
- **–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫**: MetalCorp Industries (–†–æ—Å—Å–∏—è), Forest Products Inc (–ë—Ä–∞–∑–∏–ª–∏—è)
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–∏—Å–∫**: Chemical Solutions Ltd (–ö–∏—Ç–∞–π), Steel Dynamics (–£–∫—Ä–∞–∏–Ω–∞)

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```yaml
# configs/supply_chain.yaml
name: "supply_chain_audit"
description: "ESG and compliance risk assessment for supply chain vendors"

# –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
data_sources:
  suppliers_file: "data/suppliers.csv"
  external_documents:
    - "data/external/sanction_lists/"
    - "data/external/sustainability_reports/"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≥–µ–Ω—Ç–æ–≤
agents:
  risk_analysis:
    risk_factors:
      country_esg_rating:
        weight: 0.25
        threshold: 0.6
      prior_violations:
        weight: 0.30
        threshold: 0.7
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤

```yaml
scoring:
  risk_levels:
    low: [0.0, 0.3]
    medium: [0.3, 0.6]
    high: [0.6, 0.8]
    critical: [0.8, 1.0]
  
  consensus_threshold: 0.8
  minimum_risk_score: 0.4
  flag_threshold: 0.6
```

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ CSV —Ñ–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤:

```csv
id,name,country,industry,supplier_type,esg_score,financial_stability,prior_violations,supply_category,annual_spend,contract_duration,risk_level
supplier_001,Company Name,Country,Industry,Tier 1,0.85,0.8,0,Category,1000000,3,low
```

### 2. –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞

```python
from orchestrator.main import Orchestrator

# –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
orchestrator = Orchestrator("configs/supply_chain.yaml")

# –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞
report = await orchestrator.process_query(
    "Assess ESG and compliance risks for suppliers in the file data/suppliers.csv"
)
```

### 3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∞–≥–µ–Ω—Ç—ã

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –¥–ª—è supply chain:

```python
from orchestrator.agents.base import BaseAgent

class CustomSupplyChainAgent(BaseAgent):
    async def process_task(self, task):
        # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞
        return TaskResult(
            task_id=task.id,
            success=True,
            data={"custom_analysis": "results"}
        )
```

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á–µ—Ç–∞

–û—Ç—á–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã:

```json
{
  "metadata": {
    "report_type": "supply_chain_risk_audit",
    "total_suppliers": 20,
    "analysis_version": "1.0.0"
  },
  "executive_summary": {
    "total_suppliers_analyzed": 20,
    "high_risk_suppliers": 8,
    "non_compliant_suppliers": 6,
    "overall_risk_score": 0.45,
    "compliance_rate": 0.70
  },
  "risk_assessment": {
    "risk_distribution": {
      "low": 5,
      "medium": 7,
      "high": 5,
      "critical": 3
    },
    "high_risk_suppliers": [...]
  },
  "compliance_analysis": {
    "compliance_summary": {...},
    "non_compliant_suppliers": [...]
  },
  "supplier_details": [...],
  "recommendations": [...],
  "action_items": [...]
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã

```bash
# –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤
pytest tests/test_supply_chain_agents.py -v

# –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
pytest tests/test_supply_chain_integration.py -v
```

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π:

- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑–∞ —Ä–∏—Å–∫–æ–≤
- –¢–æ—á–Ω–æ—Å—Ç–∏ compliance –æ—Ü–µ–Ω–∫–∏
- –í–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤

## üîÑ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞ —Ä–∏—Å–∫–∞

1. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `configs/supply_chain.yaml`
2. –î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏–∫—É –≤ `RiskAnalysisAgent`
3. –û–±–Ω–æ–≤–∏—Ç–µ —Ç–µ—Å—Ç—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ compliance —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞

1. –î–æ–±–∞–≤—å—Ç–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ `ESGComplianceAgent`
3. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API

```python
class ExternalDataAgent(BaseAgent):
    async def _call_external_api(self, endpoint, data):
        # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API
        response = await self.http_client.post(endpoint, json=data)
        return response.json()
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

- **Risk Distribution**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –ø–æ —É—Ä–æ–≤–Ω—è–º —Ä–∏—Å–∫–∞
- **Compliance Rate**: –ü—Ä–æ—Ü–µ–Ω—Ç compliant –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
- **Processing Time**: –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞–Ω–∞–ª–∏–∑–∞
- **Agent Performance**: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–≥–µ–Ω—Ç–æ–≤

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
from orchestrator.utils.logging import logger

logger.info("Supply chain analysis started")
logger.warning("High-risk supplier detected")
logger.error("External API connection failed")
```

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

1. **FileNotFoundError**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –¥–∞–Ω–Ω—ã—Ö
2. **ValidationError**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
3. **APIError**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–Ω–µ—à–Ω–∏–º API
4. **ConfigurationError**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ YAML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

### –û—Ç–ª–∞–¥–∫–∞

```bash
# –í–∫–ª—é—á–µ–Ω–∏–µ debug –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
export LOG_LEVEL=DEBUG

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
python run_supply_chain_demo.py --verbose
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [EU CSDDD Directive](https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX%3A52022PC0071)
- [ISO 14001 Standard](https://www.iso.org/iso-14001-environmental-management.html)
- [SA8000 Standard](https://sa-intl.org/programs/sa8000/)
- [GRI Standards](https://www.globalreporting.org/standards/)

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
4. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π. 